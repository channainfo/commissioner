<%= render partial: 'spree/admin/shared/product_tabs', locals: { current: :pricing_models } %>

<% content_for :page_actions do %>
  <%= button_link_to Spree.t(:new), new_object_url, { class: "btn-success", icon: 'add.svg', id: 'admin_new_pricing_model' } %>
<% end %>

<div class="d-flex variant-currency-selector">
  <div class="w-100 mr-2">
    <%= select_tag "variant_id",
      options_from_collection_for_select(@product.variants, :id, :options_text, params[:variant_id]),
      class: 'select_field_auto_filter select2',
      data: { param_name: 'variant_id', update: "#pricing-models"}
    %>
  </div>
  <div>
    <%= select_tag "currency",
      options_from_collection_for_select(supported_currencies_for_all_stores, :iso_code, :iso_code, params[:currency]),
      class: 'select_field_auto_filter select2',
      data: { param_name: 'currency', update: "#pricing-models"}
    %>
  </div>
</div>

<% if @pricing_models.any? %>
  <div id="pricing-models" class="my-3">
    <%= render partial: 'pricing_models' %>
  </div>
<% else %>
  <div class="alert alert-info alpha twelve columns no-objects-found mt-3">
    <%= Spree.t(:no_resource_found, resource: plural_resource_name(SpreeCmCommissioner::PricingModel)) %>
  </div>
<% end %>
